import {Link, useLocation} from "react-router-dom";
import {useEffect, useState} from "react";

const GeneralManagerVerticalMenu = (props) => {
    const [activeLink, setActiveLink] = useState("");
    const location = useLocation();

    useEffect(() => {
        const path = location.pathname.split("/").pop(); // Get the last part of the URL pathname
        if (path.includes("assignement")) {
            setActiveLink("assignement");
        }
        setActiveLink(path);
    }, [location]);

    const handleLinkClick = (link) => {
        setActiveLink(link);
        // Store the active link in localStorage
        localStorage.setItem("activeLink", link);
    };
    return(
        <>
            <Link
                to=""
                className={`menu-item ${activeLink === "" ? "active" : ""}`}
                onClick={() => handleLinkClick("")}
            >
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 2.75111C0 2.02147 0.289848 1.32172 0.805782 0.805782C1.32172 0.289848 2.02147 0 2.75111 0H22.0089C22.7385 0 23.4383 0.289848 23.9542 0.805782C24.4702 1.32172 24.76 2.02147 24.76 2.75111V22.0089C24.76 22.7385 24.4702 23.4383 23.9542 23.9542C23.4383 24.4702 22.7385 24.76 22.0089 24.76H2.75111C2.02147 24.76 1.32172 24.4702 0.805782 23.9542C0.289848 23.4383 0 22.7385 0 22.0089V2.75111ZM22.0089 2.75111H2.75111V22.0089H22.0089V2.75111ZM12.38 5.50222C12.7448 5.50222 13.0947 5.64715 13.3527 5.90511C13.6106 6.16308 13.7556 6.51296 13.7556 6.87778V17.8822C13.7556 18.247 13.6106 18.5969 13.3527 18.8549C13.0947 19.1129 12.7448 19.2578 12.38 19.2578C12.0152 19.2578 11.6653 19.1129 11.4073 18.8549C11.1494 18.5969 11.0044 18.247 11.0044 17.8822V6.87778C11.0044 6.51296 11.1494 6.16308 11.4073 5.90511C11.6653 5.64715 12.0152 5.50222 12.38 5.50222ZM17.8822 8.25333C18.247 8.25333 18.5969 8.39826 18.8549 8.65622C19.1129 8.91419 19.2578 9.26407 19.2578 9.62889V17.8822C19.2578 18.247 19.1129 18.5969 18.8549 18.8549C18.5969 19.1129 18.247 19.2578 17.8822 19.2578C17.5174 19.2578 17.1675 19.1129 16.9096 18.8549C16.6516 18.5969 16.5067 18.247 16.5067 17.8822V9.62889C16.5067 9.26407 16.6516 8.91419 16.9096 8.65622C17.1675 8.39826 17.5174 8.25333 17.8822 8.25333ZM6.87778 11.0044C7.2426 11.0044 7.59248 11.1494 7.85044 11.4073C8.10841 11.6653 8.25333 12.0152 8.25333 12.38V17.8822C8.25333 18.247 8.10841 18.5969 7.85044 18.8549C7.59248 19.1129 7.2426 19.2578 6.87778 19.2578C6.51296 19.2578 6.16308 19.1129 5.90511 18.8549C5.64715 18.5969 5.50222 18.247 5.50222 17.8822V12.38C5.50222 12.0152 5.64715 11.6653 5.90511 11.4073C6.16308 11.1494 6.51296 11.0044 6.87778 11.0044Z" fill="white"/>
                </svg>
                Dashboard
            </Link>
            <Link
                to="stock"
                className={`menu-item ${activeLink === "stock" ? "active" : ""}`}
                onClick={() => handleLinkClick("stock")}
            >
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 2.66667C0 1.95942 0.280951 1.28115 0.781048 0.781048C1.28115 0.280951 1.95942 0 2.66667 0H21.3333C22.0406 0 22.7189 0.280951 23.219 0.781048C23.719 1.28115 24 1.95942 24 2.66667V21.3333C24 22.0406 23.719 22.7189 23.219 23.219C22.7189 23.719 22.0406 24 21.3333 24H2.66667C1.95942 24 1.28115 23.719 0.781048 23.219C0.280951 22.7189 0 22.0406 0 21.3333V2.66667ZM2.66667 14.6667V21.3333H21.3333V14.6667H18.2933L17.2653 17.7547C17.1769 18.0203 17.007 18.2513 16.7799 18.415C16.5528 18.5787 16.28 18.6667 16 18.6667H8C7.72005 18.6667 7.44718 18.5787 7.22007 18.415C6.99296 18.2513 6.82313 18.0203 6.73467 17.7547L5.70667 14.6667H2.66667ZM21.3333 12V2.66667H2.66667V12H5.70667C6.26618 12.0001 6.8115 12.1761 7.26544 12.5032C7.71937 12.8303 8.05891 13.2919 8.236 13.8227L8.96 16H15.0373L15.7627 13.8227C15.9399 13.2915 16.2798 12.8296 16.7343 12.5024C17.1888 12.1753 17.7347 11.9995 18.2947 12H21.3333Z" fill="white"/>
                </svg>
                Stock
            </Link>
            <Link
                to="inventory"
                className={`menu-item ${activeLink === "inventory" ? "active" : ""}`}
                onClick={() => handleLinkClick("inventory")}
            >
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.79897e-08 2.66667C1.79897e-08 1.95942 0.252856 1.28115 0.702944 0.781048C1.15303 0.280951 1.76348 0 2.4 0H21.6C22.2365 0 22.847 0.280951 23.2971 0.781048C23.7471 1.28115 24 1.95942 24 2.66667V5.33333C24.0001 5.80591 23.8871 6.27002 23.6726 6.67814C23.4582 7.08626 23.15 7.42373 22.7796 7.656C22.7928 7.768 22.8 7.88267 22.8 8V21.3333C22.8 22.0406 22.5471 22.7189 22.0971 23.219C21.647 23.719 21.0365 24 20.4 24H3.6C2.96348 24 2.35303 23.719 1.90294 23.219C1.45286 22.7189 1.2 22.0406 1.2 21.3333V8C1.2 7.884 1.2072 7.768 1.2204 7.656C0.849997 7.42373 0.5418 7.08626 0.327362 6.67814C0.112924 6.27002 -5.20503e-05 5.80591 1.79897e-08 5.33333V2.66667ZM21.6 5.33333V2.66667H2.4V5.33333H21.6ZM3.6 8V21.3333H20.4V8H3.6ZM7.2 12C7.2 11.6464 7.32643 11.3072 7.55147 11.0572C7.77652 10.8071 8.08174 10.6667 8.4 10.6667H15.6C15.9183 10.6667 16.2235 10.8071 16.4485 11.0572C16.6736 11.3072 16.8 11.6464 16.8 12C16.8 12.3536 16.6736 12.6928 16.4485 12.9428C16.2235 13.1929 15.9183 13.3333 15.6 13.3333H8.4C8.08174 13.3333 7.77652 13.1929 7.55147 12.9428C7.32643 12.6928 7.2 12.3536 7.2 12Z" fill="white"/>
                </svg>
                Inventory
            </Link>
            <Link
                to="assignement"
                className={`menu-item ${activeLink === "assignement" ? "active" : ""}`}
                onClick={() => handleLinkClick("assignement")}
            >
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 2.58824C0 1.90179 0.252856 1.24346 0.702944 0.758076C1.15303 0.272688 1.76348 0 2.4 0H21.6C22.2365 0 22.847 0.272688 23.2971 0.758076C23.7471 1.24346 24 1.90179 24 2.58824V19.4118C24 20.0982 23.7471 20.7565 23.2971 21.2419C22.847 21.7273 22.2365 22 21.6 22H2.4C1.76348 22 1.15303 21.7273 0.702944 21.2419C0.252856 20.7565 0 20.0982 0 19.4118V2.58824ZM10.8 2.58824H2.4V6.47059H10.8V2.58824ZM13.2 2.58824V6.47059H21.6V2.58824H13.2ZM21.6 9.05882H13.2V12.9412H21.6V9.05882ZM21.6 15.5294H13.2V19.4118H21.6V15.5294ZM10.8 19.4118V15.5294H2.4V19.4118H10.8ZM2.4 12.9412H10.8V9.05882H2.4V12.9412Z" fill="white"/>
                </svg>
                Assignement
            </Link>
            <Link
                to="maintenance"
                className={`menu-item ${activeLink === "maintenance" ? "active" : ""}`}
                onClick={() => handleLinkClick("maintenance")}
            >
                <svg width="24" height="29" viewBox="0 0 24 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.85712 4.5C4.85712 3.11929 5.9764 2 7.35712 2C8.73783 2 9.85712 3.11929 9.85712 4.5V12.7143H4.85712V4.5Z" stroke="white" strokeWidth="2.5"/>
                    <path d="M14.1429 4.5C14.1429 3.11929 15.2622 2 16.6429 2C18.0236 2 19.1429 3.11929 19.1429 4.5V12.7143H14.1429V4.5Z" stroke="white" strokeWidth="2.5"/>
                    <path d="M7.71429 22H16.2857V27.7143H7.71429V22Z" stroke="white" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
                    <path d="M2 13.4286C2 13.0341 2.31979 12.7143 2.71429 12.7143H21.2857C21.6802 12.7143 22 13.0341 22 13.4286V16.2857C22 19.4417 19.4416 22 16.2857 22H7.71429C4.55836 22 2 19.4417 2 16.2857V13.4286Z" stroke="white" strokeWidth="2.5"/>
                </svg>
                Maintenance
            </Link>
            <Link
                to="myaccount"
                className={`menu-item ${activeLink === "myaccount" ? "active" : ""}`}
                onClick={() => handleLinkClick("myaccount")}
            >
                <svg width="22" height="24" viewBox="0 0 22 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.8 2.4C9.52696 2.4 8.30606 2.90571 7.40589 3.80589C6.50571 4.70606 6 5.92696 6 7.2C6 8.47304 6.50571 9.69394 7.40589 10.5941C8.30606 11.4943 9.52696 12 10.8 12C12.073 12 13.2939 11.4943 14.1941 10.5941C15.0943 9.69394 15.6 8.47304 15.6 7.2C15.6 5.92696 15.0943 4.70606 14.1941 3.80589C13.2939 2.90571 12.073 2.4 10.8 2.4ZM3.6 7.2C3.6 5.29044 4.35857 3.45909 5.70883 2.10883C7.05909 0.758569 8.89044 0 10.8 0C12.7096 0 14.5409 0.758569 15.8912 2.10883C17.2414 3.45909 18 5.29044 18 7.2C18 9.10956 17.2414 10.9409 15.8912 12.2912C14.5409 13.6414 12.7096 14.4 10.8 14.4C8.89044 14.4 7.05909 13.6414 5.70883 12.2912C4.35857 10.9409 3.6 9.10956 3.6 7.2ZM6 19.2C5.04522 19.2 4.12955 19.5793 3.45442 20.2544C2.77928 20.9295 2.4 21.8452 2.4 22.8C2.4 23.1183 2.27357 23.4235 2.04853 23.6485C1.82348 23.8736 1.51826 24 1.2 24C0.88174 24 0.576515 23.8736 0.351472 23.6485C0.126428 23.4235 0 23.1183 0 22.8C0 21.2087 0.632141 19.6826 1.75736 18.5574C2.88258 17.4321 4.4087 16.8 6 16.8H15.6C17.1913 16.8 18.7174 17.4321 19.8426 18.5574C20.9679 19.6826 21.6 21.2087 21.6 22.8C21.6 23.1183 21.4736 23.4235 21.2485 23.6485C21.0235 23.8736 20.7183 24 20.4 24C20.0817 24 19.7765 23.8736 19.5515 23.6485C19.3264 23.4235 19.2 23.1183 19.2 22.8C19.2 21.8452 18.8207 20.9295 18.1456 20.2544C17.4705 19.5793 16.5548 19.2 15.6 19.2H6Z" fill="white"/>
                </svg>
                My Account
            </Link>
        </>
    )
}
export default GeneralManagerVerticalMenu;